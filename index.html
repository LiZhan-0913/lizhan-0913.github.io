<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>乘梦万里, 山海相逢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">乘梦万里, 山海相逢</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">The Notes in the Working Time</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-CCM" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/30/CCM/" class="article-date">
  <time class="dt-published" datetime="2022-03-30T08:42:19.000Z" itemprop="datePublished">2022-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ISP/">ISP</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/30/CCM/">CCM(Color Correction Matrix, 颜色校正矩阵)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="相关参数记录"><a href="#相关参数记录" class="headerlink" title="相关参数记录"></a>相关参数记录</h1><h2 id="0-色卡值"><a href="#0-色卡值" class="headerlink" title="0. 色卡值"></a>0. 色卡值</h2><h3 id="Lab-python"><a href="#Lab-python" class="headerlink" title="Lab, python:"></a>Lab, python:</h3><p>‘’’bash<br>[31.853, 15.357, 19.048],<br>[48.882, 13.462, 15.473],<br>[38.587, -2.560, -11.945],<br>[35.079, -7.473, 26.201],<br>[41.847, 6.617, -12.797],<br>[51.228, -18.237, 1.068],<br>[47.652, 23.431, 51.742],<br>[32.446, 2.628, -28.979],<br>[40.730, 35.477, 12.442],<br>[21.743, 27.036, -19.608],<br>[52.182, -12.021, 43.768],<br>[52.487, 13.434, 55.478],<br>[20.206, 1.233, -42.315],<br>[41.648, -21.928, 27.528],<br>[31.745, 47.284, 31.843],<br>[59.252, 4.227, 59.578],<br>[40.866, 34.828, -5.431],<br>[39.510, -13.881, -16.368],<br>[66.697, 1.242, 3.141],<br>[58.877, 1.194, 1.572],<br>[49.962, 0.965, 1.640],<br>[40.280, 2.279, 2.893],<br>[31.265, 1.826, 3.056],<br>[8.521, 0.258, 6.786]<br>‘’’</p>
<h3 id="RGB-python"><a href="#RGB-python" class="headerlink" title="RGB, python:"></a>RGB, python:</h3><blockquote>
<p>[ 36.448635698779974 ,  13.491967299766477 ,  6.896855641621501 ],<br>[ 74.15441550660864 ,  37.657752661732424 ,  26.471628767642613 ],<br>[ 17.71079349098845 ,  27.874394291563743 ,  39.70751150802107 ],<br>[ 22.891135848857243 ,  23.097621128254204 ,  5.2823910196276636 ],<br>[ 32.09159845315191 ,  29.85821375687332 ,  47.639215085249326 ],<br>[ 23.288066031149036 ,  57.666872032453 ,  47.59743595163368 ],<br>[ 97.7782872357707 ,  29.68107420511886 ,  1.4133037610521355 ],<br>[ 6.207141533355608 ,  19.128712266555475 ,  49.475033502533314 ],<br>[ 81.31010576831964 ,  15.58936434144586 ,  19.109248022038177 ],<br>[ 18.89645878663372 ,  4.51761741937426 ,  21.223878959310248 ],<br>[ 54.15095444844706 ,  55.62551069469214 ,  6.587757730438553 ],<br>[ 99.79568335640109 ,  43.54395036504919 ,  1.4658038972653773 ],<br>[ 0.0 ,  8.885885722520591 ,  40.99189527628535 ],<br>[ 18.528671580726076 ,  37.390510651159744 ,  8.483632287513098 ],<br>[ 72.28388099310231 ,  3.0750950123357614 ,  2.8411410101115 ],<br>[ 109.90938393992002 ,  64.41291578293246 ,  2.2965236227421606 ],<br>[ 72.48312144632368 ,  16.720209407053602 ,  36.886242723100864 ],<br>[ 4.628466033054505 ,  32.92723281130565 ,  47.178923739320446 ],<br>[ 98.61008115896159 ,  91.20780411860142 ,  85.5514191336797 ],<br>[ 72.27214092277079 ,  67.75044406700287 ,  65.76079446510803 ],<br>[ 49.44261539206671 ,  46.3438127347022 ,  44.60167408290548 ],<br>[ 33.04336108383903 ,  28.2381525864822 ,  26.25122957058608 ],<br>[ 19.703787054641005 ,  16.73020821054241 ,  15.120392989955798 ],<br>[ 3.067674201617321 ,  2.3414785770496263 ,  1.1266275558859433 ],</p>
</blockquote>
<h3 id="RGB-Cpp"><a href="#RGB-Cpp" class="headerlink" title="RGB, Cpp:"></a>RGB, Cpp:</h3><blockquote>
<p>{ 36.448635698779974 ,  13.491967299766477 ,  6.896855641621501 },<br>{ 74.15441550660864 ,  37.657752661732424 ,  26.471628767642613 },<br>{ 17.71079349098845 ,  27.874394291563743 ,  39.70751150802107 },<br>{ 22.891135848857243 ,  23.097621128254204 ,  5.2823910196276636 },<br>{ 32.09159845315191 ,  29.85821375687332 ,  47.639215085249326 },<br>{ 23.288066031149036 ,  57.666872032453 ,  47.59743595163368 },<br>{ 97.7782872357707 ,  29.68107420511886 ,  1.4133037610521355 },<br>{ 6.207141533355608 ,  19.128712266555475 ,  49.475033502533314 },<br>{ 81.31010576831964 ,  15.58936434144586 ,  19.109248022038177 },<br>{ 18.89645878663372 ,  4.51761741937426 ,  21.223878959310248 },<br>{ 54.15095444844706 ,  55.62551069469214 ,  6.587757730438553 },<br>{ 99.79568335640109 ,  43.54395036504919 ,  1.4658038972653773 },<br>{ 0.0 ,  8.885885722520591 ,  40.99189527628535 },<br>{ 18.528671580726076 ,  37.390510651159744 ,  8.483632287513098 },<br>{ 72.28388099310231 ,  3.0750950123357614 ,  2.8411410101115 },<br>{ 109.90938393992002 ,  64.41291578293246 ,  2.2965236227421606 },<br>{ 72.48312144632368 ,  16.720209407053602 ,  36.886242723100864 },<br>{ 4.628466033054505 ,  32.92723281130565 ,  47.178923739320446 },<br>{ 98.61008115896159 ,  91.20780411860142 ,  85.5514191336797 },<br>{ 72.27214092277079 ,  67.75044406700287 ,  65.76079446510803 },<br>{ 49.44261539206671 ,  46.3438127347022 ,  44.60167408290548 },<br>{ 33.04336108383903 ,  28.2381525864822 ,  26.25122957058608 },<br>{ 19.703787054641005 ,  16.73020821054241 ,  15.120392989955798 },<br>{ 3.067674201617321 ,  2.3414785770496263 ,  1.1266275558859433 },</p>
</blockquote>
<h2 id="1-capture-png"><a href="#1-capture-png" class="headerlink" title="1. capture.png"></a>1. capture.png</h2><p>服务器路径（102）：”/home/lizhan/ISP_Datas/ISP_Developing_Codes_git/CCM/03/capture.png”<br>本地路径：”D:\Workbench_ISP\Datas\ISP_Datas_ver3_limit\CCM\03\capture.png”</p>
<p>使用矩阵运算法则计算结果<br>[ 1.78498925 -0.42039423 -0.29895832]<br>[-0.17829097  1.08838242 -0.31767884]<br>[-0.0227369  -0.52417276  1.51586716]   </p>
<h3 id="RGB-Python"><a href="#RGB-Python" class="headerlink" title="RGB, Python:"></a>RGB, Python:</h3><blockquote>
<p>[ 27.630385487528343 ,  21.803854875283445 ,  13.257936507936508 ],<br>[ 61.299886621315196 ,  57.15419501133787 ,  38.79421768707483 ],<br>[ 26.83390022675737 ,  42.947278911564624 ,  41.574829931972786 ],<br>[ 22.409297052154194 ,  30.182539682539684 ,  14.333333333333334 ],<br>[ 36.45238095238095 ,  47.47845804988662 ,  47.647392290249435 ],<br>[ 41.17120181405895 ,  77.33219954648526 ,  58.86281179138322 ],<br>[ 68.52210884353741 ,  44.77947845804989 ,  19.231292517006803 ],<br>[ 18.6343537414966 ,  33.79478458049886 ,  44.31689342403628 ],<br>[ 57.547052154195015 ,  31.45861678004535 ,  23.96485260770975 ],<br>[ 16.476757369614514 ,  11.887755102040817 ,  17.823696145124718 ],<br>[ 50.807256235827666 ,  67.51814058956916 ,  27.567460317460316 ],<br>[ 70.8781179138322 ,  57.09750566893424 ,  20.972789115646258 ],<br>[ 6.962585034013605 ,  19.91496598639456 ,  32.89795918367347 ],<br>[ 27.606009070294785 ,  47.868480725623584 ,  23.79421768707483 ],<br>[ 46.859410430839006 ,  14.163832199546485 ,  7.678571428571429 ],<br>[ 83.87925170068027 ,  80.45804988662131 ,  28.8781179138322 ],<br>[ 54.20238095238095 ,  34.026643990929706 ,  35.961451247165535 ],<br>[ 21.929138321995463 ,  48.711451247165535 ,  47.680839002267575 ],<br>[ 104.33219954648526 ,  128.4574829931973 ,  103.5436507936508 ],<br>[ 77.37698412698413 ,  97.62074829931973 ,  78.72165532879819 ],<br>[ 52.209750566893426 ,  66.94274376417233 ,  53.31972789115646 ],<br>[ 33.36224489795919 ,  41.19954648526077 ,  31.924603174603174 ],<br>[ 20.03968253968254 ,  24.88605442176871 ,  18.962585034013607 ],<br>[ 3.319160997732426 ,  4.429138321995465 ,  2.67687074829932 ],</p>
</blockquote>
<h3 id="RGB-Cpp-1"><a href="#RGB-Cpp-1" class="headerlink" title="RGB, Cpp:"></a>RGB, Cpp:</h3><blockquote>
<p>{ 27.630385487528343 ,  21.803854875283445 ,  13.257936507936508 },<br>{ 61.299886621315196 ,  57.15419501133787 ,  38.79421768707483 },<br>{ 26.83390022675737 ,  42.947278911564624 ,  41.574829931972786 },<br>{ 22.409297052154194 ,  30.182539682539684 ,  14.333333333333334 },<br>{ 36.45238095238095 ,  47.47845804988662 ,  47.647392290249435 },<br>{ 41.17120181405895 ,  77.33219954648526 ,  58.86281179138322 },<br>{ 68.52210884353741 ,  44.77947845804989 ,  19.231292517006803 },<br>{ 18.6343537414966 ,  33.79478458049886 ,  44.31689342403628 },<br>{ 57.547052154195015 ,  31.45861678004535 ,  23.96485260770975 },<br>{ 16.476757369614514 ,  11.887755102040817 ,  17.823696145124718 },<br>{ 50.807256235827666 ,  67.51814058956916 ,  27.567460317460316 },<br>{ 70.8781179138322 ,  57.09750566893424 ,  20.972789115646258 },<br>{ 6.962585034013605 ,  19.91496598639456 ,  32.89795918367347 },<br>{ 27.606009070294785 ,  47.868480725623584 ,  23.79421768707483 },<br>{ 46.859410430839006 ,  14.163832199546485 ,  7.678571428571429 },<br>{ 83.87925170068027 ,  80.45804988662131 ,  28.8781179138322 },<br>{ 54.20238095238095 ,  34.026643990929706 ,  35.961451247165535 },<br>{ 21.929138321995463 ,  48.711451247165535 ,  47.680839002267575 },<br>{ 104.33219954648526 ,  128.4574829931973 ,  103.5436507936508 },<br>{ 77.37698412698413 ,  97.62074829931973 ,  78.72165532879819 },<br>{ 52.209750566893426 ,  66.94274376417233 ,  53.31972789115646 },<br>{ 33.36224489795919 ,  41.19954648526077 ,  31.924603174603174 },<br>{ 20.03968253968254 ,  24.88605442176871 ,  18.962585034013607 },<br>{ 3.319160997732426 ,  4.429138321995465 ,  2.67687074829932 },</p>
</blockquote>
<h1 id="相关算法简述"><a href="#相关算法简述" class="headerlink" title="相关算法简述"></a>相关算法简述</h1><h2 id="0-矩阵运算法则-算法"><a href="#0-矩阵运算法则-算法" class="headerlink" title="0. 矩阵运算法则 算法"></a>0. 矩阵运算法则 算法</h2><p>设CCM矩阵方程为</p>
<blockquote>
<p>S’ = M · S<br>其中，M为3*3矩阵，S为输入矩阵，S’为校正后输出</p>
</blockquote>
<p>等号两端右侧同乘以S的转置，St</p>
<blockquote>
<p>S’ · St = M · S · St</p>
</blockquote>
<p>求解(S · St)的逆矩阵(S · St)^(-1)，解得M的表达式</p>
<blockquote>
<p>M = S’ · St · (S · St)^(-1)</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://lizhan-0913.github.io/2022/03/30/CCM/" data-id="cl1dbpx530001u0ql80ht4j8q" data-title="CCM(Color Correction Matrix, 颜色校正矩阵)" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ISP-Methods-Page-Test/" rel="tag">ISP Methods, Page Test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-My-New-Post" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/30/My-New-Post/" class="article-date">
  <time class="dt-published" datetime="2022-03-30T03:35:22.000Z" itemprop="datePublished">2022-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo%E5%AD%A6%E4%B9%A0/">hexo学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/30/My-New-Post/">My New Post</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="尝试撰写第一篇文章"><a href="#尝试撰写第一篇文章" class="headerlink" title="尝试撰写第一篇文章"></a>尝试撰写第一篇文章</h1><p>Working on it.</p>
        
          <p class="article-more-link">
            <a href="/2022/03/30/My-New-Post/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://lizhan-0913.github.io/2022/03/30/My-New-Post/" data-id="cl1dbpx570003u0ql03hrgda6" data-title="My New Post" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Page-Test/" rel="tag">Page Test</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/30/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-03-30T03:22:17.312Z" itemprop="datePublished">2022-03-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/hexo%E5%AD%A6%E4%B9%A0/">hexo学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/30/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
        
          <p class="article-more-link">
            <a href="/2022/03/30/hello-world/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://lizhan-0913.github.io/2022/03/30/hello-world/" data-id="cl1dbpx5e000du0ql3bc292z8" data-title="Hello World" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Page-Test/" rel="tag">Page Test</a></li></ul>

    </footer>
  </div>
  
</article>



  

</section>
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ISP-Methods-Page-Test/" rel="tag">ISP Methods, Page Test</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Page-Test/" rel="tag">Page Test</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/30/CCM/">CCM(Color Correction Matrix, 颜色校正矩阵)</a>
          </li>
        
          <li>
            <a href="/2022/03/30/My-New-Post/">My New Post</a>
          </li>
        
          <li>
            <a href="/2022/03/30/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ISP/">ISP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo%E5%AD%A6%E4%B9%A0/">hexo学习</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 By Autoload<br>
      Driven - <a href="https://hexo.io/" target="_blank">Hexo</a>|Theme - <a href="https://github.com/autoload/hexo-theme-auto" target="_blank">Auto</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/script.js"></script>




  </div>
</body>
</html>